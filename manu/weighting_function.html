

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ND NUFFT with &mdash; PyNUFFT 2020.2.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="PyNUFFT 2020.2.3 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyNUFFT
          

          
            
            <img src="../_static/logo.jpeg" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                2020.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/init.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/init.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutor/init.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="init.html">Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../API/init.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versionhistory.html">Version history</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acknow/init.html">Acknowledgements</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyNUFFT</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>ND NUFFT with</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/manu/weighting_function.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="nd-nufft-with">
<h1>ND NUFFT with<a class="headerlink" href="#nd-nufft-with" title="Permalink to this headline">¶</a></h1>
<p>This section navigates you through the 1D PyNUFFT.</p>
<div class="section" id="initiating-a-pynufft-object">
<h2>Initiating a PyNUFFT object<a class="headerlink" href="#initiating-a-pynufft-object" title="Permalink to this headline">¶</a></h2>
<p>We can initiate a PyNUFFT by importing the NUFFT_cpu object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># import NUFFT_cpu class</span>
<span class="kn">from</span> <span class="nn">pynufft</span> <span class="kn">import</span> <span class="n">NUFFT_cpu</span>

<span class="c1"># Initiate the NufftObj object</span>
<span class="n">NufftObj</span> <span class="o">=</span> <span class="n">NUFFT_cpu</span><span class="p">()</span>
</pre></div>
</div>
<p>The NufftObj object has been created but it is still empty at this point.</p>
<p>Now we have to plan the NufftObj by calling the plan() method.
The plan() method takes the input variables and plans for the object.
Now we can plan for the NufftObj object given the non-Cartesian coordinates (om).</p>
<p>In the following code we have 100 random samples spreading across the 2D plane.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># generating 2D random coordinates</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="n">om</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="plan-for-the-nufft-object">
<h2>Plan for the NUFFT object<a class="headerlink" href="#plan-for-the-nufft-object" title="Permalink to this headline">¶</a></h2>
<p>Now we call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NufftObj</span><span class="o">.</span><span class="n">plan</span><span class="p">(</span><span class="n">om</span><span class="p">,</span> <span class="n">Nd</span><span class="p">,</span> <span class="n">Kd</span><span class="p">,</span> <span class="n">Jd</span><span class="p">,</span> <span class="n">ft_axes</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">batch</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>See :py:class: <cite>pynufft.NUFFT_cpu</cite> and  :py:class: <cite>pynufft.NUFFT_hsa</cite></p>
</div>
<div class="section" id="forward-nufft">
<h2>Forward NUFFT<a class="headerlink" href="#forward-nufft" title="Permalink to this headline">¶</a></h2>
<p>The forward NUFFT transforms the image into the non-Cartesian samples.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">y</span> <span class="o">=</span> <span class="n">NufftObj</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
</pre></div>
</div>
<p>If batch = None, the image.shape is equal to Nd. The returned y has a shape which is equal to (M, )</p>
<p>If batch exists, the image.shape is equal to Nd + (batch, ). The returned y has a shape which is equal to (M, batch)</p>
<p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">pynufft.NUFFT_cpu.forward()</span></code> :py:func: <cite>pynufft.NUFFT_hsa.forward</cite></p>
</div>
<div class="section" id="adjoint-nufft">
<h2>Adjoint NUFFT<a class="headerlink" href="#adjoint-nufft" title="Permalink to this headline">¶</a></h2>
<p>The adjoint NUFFT transforms the non-Cartesian samples into the image</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x2</span> <span class="o">=</span> <span class="n">NufftObj</span><span class="o">.</span><span class="n">adjoint</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>If batch = None, y has a shape which is equal to (M, ). The returned image.shape is equal to Nd.</p>
<p>If batch exists, y has a shape which is equal to (M, batch). The returned image.shape is equal to Nd + (batch, ).</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2020, PyNUFFT services.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2020.2.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>